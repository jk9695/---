# 小恐龍遊戲專案規格說明

## 專案目標
建立一個類似 Chrome 離線時的小恐龍遊戲，使用純前端技術實作，可以直接部署到 GitHub Pages 上。

## 技術棧
- HTML5 Canvas
- 純 JavaScript（無外部依賴）
- CSS3

## 目前實作的功能

### 1. 基礎遊戲架構
- [x] 遊戲畫布設置 (800x300)
- [x] 遊戲循環系統
- [x] 碰撞檢測系統

### 2. 玩家控制
- [x] 恐龍跳躍機制
  - 空白鍵或向上鍵觸發
  - 重力效果
  - 防止連續跳躍
- [x] 恐龍蹲下機制
  - 向下鍵觸發
  - 降低碰撞箱高度

### 3. 遊戲機制
- [x] 障礙物生成系統
  - 地面障礙物（小/大仙人掌）
  - 空中障礙物（飛鳥）
- [x] 分數計算系統
- [x] 遊戲結束機制
- [x] 重新開始功能
- [x] 難度機制
  - 隨分數提升遊戲速度
  - 障礙物出現頻率調整

### 4. UI/UX
- [x] 分數顯示
- [x] 最高分記錄
- [x] 遊戲結束畫面
- [x] 重新開始按鈕
- [x] 載入畫面

### 5. 視覺效果
- [x] 恐龍角色圖片
  - 正常狀態
  - 蹲下狀態
  - 受傷狀態
- [x] 障礙物圖片
  - 小型仙人掌
  - 大型仙人掌
  - 飛鳥
- [x] 背景元素
  - 地面
  - 滾動雲朵
  - 日/夜循環
  - 夜晚星星
  - 月亮

### 6. 音效系統
- [x] 跳躍音效
- [x] 碰撞音效
- [x] 得分音效

### 7. 行動裝置支援
- [x] 觸控跳躍
- [x] RWD 適配
- [x] 移動端優化的 UI

## 檔案結構說明
```
dino-game/
├── src/
│   ├── index.html          # 主要遊戲頁面
│   ├── assets/
│   │   ├── css/
│   │   │   └── style.css  # 遊戲樣式
│   │   ├── images/
│   │   │   └── sprites.js # 遊戲圖片資源（Base64）
│   │   ├── sounds/
│   │   │   └── sounds.js  # 遊戲音效資源（Base64）
│   │   └── js/
│   │       ├── game.js    # 遊戲核心邏輯
│   │       ├── main.js    # 遊戲初始化和主循環
│   │       └── resources.js# 資源管理器
└── SPEC.md                 # 本文件
```

## 核心類別說明

### Game 類別
- 管理遊戲狀態
- 處理玩家輸入
- 更新遊戲物件
- 渲染遊戲畫面
- 處理碰撞檢測
- 管理遊戲分數

### Resources 類別
- 管理遊戲資源載入
- 處理圖片和音效資源
- 提供資源預載入功能
- 提供音效播放功能

## 遊戲參數設定
- 畫布大小：800x300 像素
- 恐龍初始位置：x=50, y=canvas.height-60
- 跳躍力度：-15
- 重力：0.8
- 遊戲初始速度：5
- 日/夜循環時間：30秒

## 待優化項目

### 1. 效能優化
- [ ] 使用 Sprite Sheet 替代單一圖片
- [ ] 實作物件池來重用障礙物
- [ ] 優化碰撞檢測演算法

### 2. 遊戲玩法
- [ ] 加入道具系統
  - 無敵星星
  - 雙倍分數
  - 減速道具
- [ ] 增加關卡系統
- [ ] 新增特殊障礙物類型

### 3. 視覺效果
- [ ] 添加粒子效果
  - 跳躍粒子
  - 碰撞粒子
  - 得分粒子
- [ ] 優化背景視差效果
- [ ] 添加更多動畫效果

### 4. 音效
- [ ] 添加背景音樂
- [ ] 增加音量控制
- [ ] 新增更多音效變化

### 5. 使用者體驗
- [ ] 添加教學提示
- [ ] 增加遊戲設定選項
- [ ] 支援鍵盤按鍵自訂

## 注意事項
1. 專案使用純前端技術，無需後端服務
2. 所有資源使用 Base64 編碼，確保離線可用
3. 代碼需保持簡潔且有良好的註解
4. 確保遊戲在各種螢幕尺寸下都能正常顯示
5. 維持向後相容性，確保未來擴充性

## 發佈流程
1. 確保所有檔案都在 src 資料夾中
2. 可直接將 src 資料夾內容部署到 GitHub Pages
3. 不需要建置步驟，直接部署即可

## 貢獻指南
1. 遵循現有的程式碼風格
2. 保持檔案結構的一致性
3. 更新此 SPEC.md 檔案以記錄變更
4. 確保新功能不會破壞現有功能
5. 添加適當的註解和文檔
